**説明**

この震声（しんせいと読みます）では気象庁が発表する緊急地震速報と過去10件の地震履歴、NIEDが公開している各地の観測点の揺れの大きさと海底震度計の揺れを見ることができます。緊急地震速報は通常のEEWに加え深発地震やplum法やレベル法のような仮定震源要素を含む緊急地震速報も見れます。また、一般向けの緊急地震速報（警報）のほかにも高度利用者向けの緊急地震速報（予報）も受信します。また、これらは設定で変更することができます
右上の設定ボタンを押すと読み上げ内容や表示内容などの細かな設定が可能です。設定はブラウザのローカルストレージに保存されるため、毎回再設定する必要はありません（※一部のブラウザ環境では保存されない場合があります）
なお、このソフトは個人制作のツールであり、地震情報の正確性や即時性について保証するものではありません。ご利用は自己責任でお願いいたします。


**操作説明**

基本的にはキーボードで操作します。

A:現在地の情報を再度決めることができます

O:自分が開いていた間に発生した地震のリプレイが表示されます（0.1秒単位で記録）

　※ただし稀に正常に保存されていない場合があります。その場合は複数回試すと表示される場合があります。
 
S:詳細な設定画面の切り替えができます（読み上げ等の設定とは別）

　EEW予報円を塗りつぶす:1の場合予報円内が色で塗りつぶされます。中央に行くほど色は薄くなっています
 
　受信する内容:1の場合は地震履歴のみ、2の場合は緊急地震速報（警報）と地震履歴、3の場合は緊急地震速報（警報、予報）、地震履歴　を受信します。
 
　リアルタイム震度を表示する:1にすると各観測点の揺れの強さを強震モニタのグラデーションの色で表示します

　データがない観測点を表示:1にすると何らかの原因でデータがなくなっている観測点を-3の震度として処理します。0にするとその観測点は非表示になり、付近観測点データの処理にも含まれなくなります
 
Z:アーカイブ用リストを表示、非表示ができます

リストを右クリックし「書き出し」または「エクスポート」を押すことでPC内にデータを保存することができます。右クリックし「読み込み」または「インポート」を押し先ほど保存したデータを読み込ませ、再生すると先ほど保存した地震が再生できます
　※この機能は現在一時的に使えないようにしています



**バージョンについての補足**

現在はv0.3.2です

※この表示と実際のプロジェクトタイトルのバージョンに差異がある場合は、プロジェクトタイトルが実際のバージョンとなります。


**その他効果音UIなどの情報**

アイコン:ChatGPTによる生成

地図:リアルタイム地震ビューアー
https://turbowarp.org/636244032

効果音:リアルタイム地震ビューアー、効果音ラボ、OtoLogic

https://turbowarp.org/636244032
https://soundeffect-lab.info/
https://otologic.jp/free/se/news-accent01.html


 **情報受信元**
 
 リアルタイム地震ビューアーturbowarp版*1:https://turbowarp.org/636244032
 
 P2P地震情報:https://www.p2pquake.net/develop/json_api_v2/
 
*1 リアルタイム地震ビューアーturbowarp版のクラウド変数

**質問や提案**

質問や提案があれば↓

https://forms.gle/nhzvqensqwuybaHb9

**変数の動き方**

この震声では読み上げ内容や表示内容を自由に変えれるという特徴があります。それらの各変数の動き方について紹介します。また、速報用と履歴用で動き方が違います。

最大震度:
速報:予測最大震度　履歴:観測最大震度

マグニチュード:
速報、履歴共にマグニチュード

深さ:
速報、履歴共に深さ(単位km）　また、0kmの場合は「ごく浅い」

震央地名:
速報、履歴共に震央地の地名

n報:
速報:地震内容が何報目なのか　履歴:常に空白が返ってくる

速報種類:
速報:レベル法やplum法など。いずれでもない場合は 警報 または 予報 と返ってくる　履歴:常に空白が返ってくる

発生時刻:
速報、履歴共に地震発生予想時刻

緯度:
速報、履歴共に震源地の予想緯度

経度:
速報、履歴共に震源地の予想経度


※複数の地震が速報として発表された場合、読み上げは全件を対象としますが、画面左上に表示される内容は最初に届いた速報の情報が表示されます。

※各値が取得できない、または発表されていない場合、その他理由（深発地震の際の震度不明など）の場合等は「不明」として表示されます。


**バージョン履歴**

※現在のバージョンよりバージョン履歴の最新の方が進んでいる場合があります。この場合、現在のバージョン以前の機能は追加されていて、以降の機能は追加されていません。今後のアップデート予定内容として受け取ってください。


v0.0.0

公開

v0.1.0

変更:定期的にリクエストを送信するのではなく地震履歴が更新された時にのみ送信する方法に変更

追加:
1.複数報に対応
2.開いている間に得た地震データをローカルに保存し、リプレイに対応（再読み込み等でリセットされます。）

修正:なし

v0.1.1

変更:なし

追加:なし

修正:上記の新機能の大量のバグを修正

v0.1.2

変更:ローカルストレージに緯度経度なども含めた情報を入れるように変更

追加:なし

修正:
1.地震履歴が更新しても正常に更新されなかったバグを修正
2.正しく地図が表示されなかったバグを修正
3.テキストファイルのURLを表示するリストが正常な位置に配置されていなかった問題を修正

v0.1.3

変更:なし

追加:スマホ版に一部対応

修正:リプレイモードでのEEWの到達予報円が正常に動いていなかった問題を修正

v0.1.4

変更:ブラウザに操作方法を保存するようにしました。

追加:スマホ版に一部対応

修正:
1.地震発生時に効果音が鳴らなかった問題を修正
2.最初に開いたときに「第0報マグニチュード9.9」の地震情報が発表されてしまう問題を修正

v0.2.0

変更:
1.必ず一分から30秒の間に地震履歴を最新のものに更新させるように変更
2.リプレイ記録間隔を 1/100秒 → 1/10秒 に変更し精度を向上
3.S波P波をコスチュームの描画ではなくペンでの描画に変更
4.効果音の大半を削除
5.デフォルトの読み上げ内容を変更

追加:
1.S波・P波の到達／未到達を判定する変数追加
2.音声読み上げの声を変更する設定の追加

修正:
1.緊急地震速報が受信できない問題を修正
2.震度速報が震源情報で読み上げされてしまう問題を修正
3.読み上げ内容が支離滅裂な文章になっている問題を修正
4.地震情報が更新されても取得できなかった問題を修正
5.震度速報発表時等に震源地が不明な時に震源地の変数が不明ではなく空白を返していた問題を修正
6.起動直後に最新地震情報が即読み上げされる問題を修正
7.リプレイが正常に動作しない問題を修正

v0.2.1

変更:なし

追加:さらに細かな設定の追加

修正:常に第0報が発表されていた問題を修正

v0.2.2

変更:EEW到達予報円の塗りつぶしの濃さを薄く変更

追加:緊急地震速報の警報の際警報が発表されている地域を読み上げるように変更

修正:
1.震源の位置がおかしい問題を修正
2.予報円の枠線と予報円塗りつぶしの位置がずれていた問題を修正
3.キャンセル報の時に警報の音が鳴っていた問題を修正

v0.2.3

変更:
1.変数[type]が深発地震や単独点処理の場合「深発」「単独点処理」となるように変更
2.デフォルトの読み上げ内容を変更
3.効果音を一部変更

追加:効果音を一部追加

修正:
1.最終報の時に正しく表示されなかった問題を修正
2.深発地震の際「予想震度0」と表示されてしまう問題を修正

v0.3.0

変更:一時的にリプレイ機能を廃止。理由は観測点追加によるデータ膨大化によるものです

追加:
1.観測点でリアルタイムの揺れの大きさも見ることができるように
2. 1に伴って詳細設定にリアルタイム震度を表示するかを決めれる設定を追加

修正:震度情報の時に震源情報の読み上げが行われる問題を修正

v0.3.1

変更:低精度のためS波P波の到達か否かの表示は廃止

追加:
1.現在地と一番近い観測点の色を右下に表示
2.データがない観測点を表示する設定の追加

修正:
1.観測点の色表示が正常ではない色になっていた問題を修正
2.観測点の位置が正常ではない場所になっていた問題を修正
3.リアルタイム情報が空白になっていたことがあった問題を修正
4.EEWを受信しても表示がされなかった問題を修正

v0.3.2

変更:なし

追加:過去の地震履歴を表示するとき各地の実際に観測されたデータを見ることができるように

修正:一部設定が保存できていなかった問題を修正

v0.4.0

変更:なし

追加:
1.海底震度計のデータをリアルタイムで見れるように
2.それに伴って海底震度計を表示するかの設定の項目の追加
3.大規模噴火に関する情報が気象庁から発表された際にそれを表示する機能の追加
4.それに伴って大規模噴火専用の読み上げ変更の項目の追加

修正
1.正常に読み上げがされなかった問題を修正
2.UIが地図の情報(観測点など)の裏側に表示され隠れていた問題を修正
3.正常に設定が読み込まれなかった問題を修正
4.震度速報、震源情報が正常に動いていなかった問題を修正
